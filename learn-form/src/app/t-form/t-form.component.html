<!-- <form (ngSubmit)="onSubmitTeamplateDrivenForm(f)" #f="ngForm"> -->
<form (ngSubmit)="onSubmitByViewChild()" #f="ngForm">
  <div id="user-data" ngModelGroup="userData" #userData="ngModelGroup">
    
    <div class="form-group">
      <label for="username">Username</label>
      <input
        type="text"
        id="username"
        class="form-control"
        ngModel
        name="username"
        required
      />
    </div>

    <button type="button" (click)="suggestUserName()">
      Suggest an Username
    </button>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        class="form-control"
        ngModel
        name="email"
        required
        email
        #email="ngModel"
      />
      <span *ngIf="!email.valid && email.touched">
        Please enter a valid email !</span
      >
    </div>

    <p *ngIf="!userData.valid && userData.touched">UserData is invalid</p>
  </div>

  <div class="form-group">
    <label for="secret">Secret Questions</label>
    <select
      id="secret"
      class="form-control"
      [ngModel]="defaultQuestion"
      name="secret"
    >
      <option value="pet">Your first pet?</option>
      <option value="teacher">Your first teacher?</option>
    </select>
  </div>

  <div>
    <textarea
      [(ngModel)]="answer"
      name="questionAnswer"
      rows="3"
      ngModel
    ></textarea>
    <p>Your Reply {{ answer }}</p>
  </div>

  <div *ngFor="let gender of genders">
    <label>
      <input type="radio" name="gender" ngModel [value]="gender" required />
      {{ gender }}
    </label>
  </div>

  <button type="submit" [disabled]="!f.valid">Submit</button>
</form>

<ng-template [ngIf]="userFormData.isSubmitted">
  <pre>
    user-name : {{ userFormData.username }}
    email : {{ userFormData.email }}
    question: {{ userFormData.secretQuestion }}
    answer: {{ userFormData.answer }}
    gender: {{ userFormData.gender }}
  </pre>
</ng-template>
